# 【デベロッパープレビュー版 Swift SDK 公開記念】Swiftでチャットアプリを作ろう！
# はじめに
## セミナー概要
**チャットアプリ** の作成を通して、クラウドデータベースの会員管理とデータ保存、データ取得を学んでいきます。

### 今回習得できる内容
* 会員管理
* データの保存
* データの取得
* メッセージデータと会員の連携

## コンテンツ概要
### 作成できるアプリ
機能
* 新規ユーザー登録
* ログイン
* データ（メッセージ）保存
* データ（メッセージ）取得

チャットルームの中で複数ユーザーがチャットを行うことが可能です。

### 使用したツール
**ニフクラ mobile backend**

にふくら-もばいる-ばっくえんど 【ニフクラ mobile backend】 スマートフォンアプリに必要なバックエンド機能が開発不要で利用できるクラウドサービス。 クラウド上に用意された機能を API で呼び出すだけで利用できます。また、APIを簡単に使うための SDK を用意しています（ iOS / Android / Monaca / Unity ）。mobile Backend as a Service の頭文字を取って、通称 mBaaS と呼ばれます。

### 使用したライブラリ
* ニフクラ mobile backend デベロッパープレビュー版 Swift SDK
* JSQMessagesViewController

# ハンズオン
## 事前準備
* 動作環境
  * Mac
  * Xcode ver.10.x 以上
  * Swift 4.2 以上
* ニフクラ mobile backend の利用登録（無料）
  * [登録ページ](https://mbaas.nifcloud.com/signup.htm)
  * SNSアカウント登録をしてください
## 作業手順目次
### 1. 環境準備
1. mobile backend の準備
1. サンプルプロジェクトの準備
1. mobile backend APIキー設定とSDKの初期化
### 2. コーディングと動作確認
1. コーディングの進め方について
1. 新規ユーザー登録機能
1. ログイン機能登録
1. メッセージデータ保存機能
1. メッセージデータ取得機能
### 3. まとめと考察
1. ACLによるデータ管理
1. ロールを活用したグループチャットの作成
1. ローカルにデータを保持
1. チャット画面フレームワークの紹介

# 環境準備
## mobile backend の準備
* [mobile backend](https://mbaas.nifcloud.com/) にログインします
* 新しいアプリを作成します
* アプリ名を入力し 「新規作成」 ボタンをクリックします　例）SwiftChatApp
* mobile backend を既に使用したことがある場合は、画面上方のメニューバーにある 「＋新しいアプリ」 をクリックすることで新しいアプリ作成画面が表示されます
* アプリが作成されるとAPIキー（2種類）が発行されます
  * APIキーはあとで使用します
* ここでは使用しないので、「OK」 で閉じます
* 管理画面が開かれ、ダッシュボードが表示されます

これで mobile backend の準備は完了です
## サンプルプロジェクトの準備
* 下記リンクからプロジェクトをローカルフォルダにダウンロードします
  * |||| githubのダウンロードリンク
* zipファイルを解凍して内容を確認します
* 今回は使用するSDKやライブラリは導入してあります
* ダウンロードしてあるプロジェクトの `SwiftChatApp.xcworkspace` をダブルクリックします
* Xcode が起動し、プロジェクトが開かれます
**注意**
青いアイコンの `SwiftFormApp.xcodeproj` からXcodeを起動しても動作しません。
必ず白いアイコンの `SwiftFormApp.xcworkspace` から起動してください。
## mobile backend APIキー設定とSDKの初期化
* `AppDelegate.swift` を開きます
* `YOUR_NCMB_APPLICATION_KEY` と `YOUR_NCMB_CLIENT_KEY` を mobile backend でアプリ作成時に発行された２つの APIキー （アプリケーションキーとクライアントキー）に貼り替えます
* APIキーは mobile backend 管理画面の「アプリ設定」で確認できます
* 書き換えたら必ず保存をしましょう
  * **command + S キー** で保存できます

これでプロジェクトの準備は完了です
# コーディングと動作確認
## コーディングの進め方について
* `SwiftChatApp` プロジェクト内のファイルに記述していきます・
  *
* 必要なコードが虫食い状態になっていますので、手順ごとに1つずつコーディングしてアプリを完成させます。
```
虫食いの例 |||||
```
## 新規ユーザ登録機能
## ログイン機能
## メッセージデータ
